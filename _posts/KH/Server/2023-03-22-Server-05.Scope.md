---
title : 05. Scope
date : 2023-03-22 +09:00
categories : [KH í•™ì› ê³µë¶€, Server]
tags : [
  Server,
]
---
<!-- ![](/assets/img/Server/aaaa.png){:style="border:1px solid #eaeaea; border-radius: 7px; padding: 0px;" } -->
<!-- ![](/assets/img/Server/5-1.png){:style="width:1000px" } -->

### Servlet/JSP ë‚´ì¥ ê°ì²´ì™€ ë²”ìœ„(scope)

```html
âœ”ï¸ Servlet/JSPì—ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‚´ì¥ë˜ì–´ìˆëŠ” 4ê°€ì§€ ê°ì²´ê°€ ì¡´ì¬í•¨

âœ”ï¸ 4ì¢…ë¥˜ì˜ ê°ì²´ëŠ” ê°ê° ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆëŠ” ë²”ìœ„ê°€ ë‹¤ë¥´ë‹¤

1. page : í˜„ì¬ í˜ì´ì§€
-> í˜„ì¬ Servlet ë˜ëŠ” JSPì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥ (1í˜ì´ì§€)

2. request : ìš”ì²­ë°›ì€ í˜ì´ì§€(Servlet/JSP)ì™€ ìš”ì²­ì„ ìœ„ì„ë°›ì€ í˜ì´ì§€(Servlet/JSP)ì—ì„œ ì‚¬ìš© ê°€ëŠ¥

3. session : í˜„ì¬ ì‚¬ì´íŠ¸ì— ì ‘ì†í•œ ë¸Œë¼ìš°ì €ë‹¹ 1ê°œì”© ìƒì„±. ë¸Œë¼ìš°ì €ê°€ ì¢…ë£Œë˜ê±°ë‚˜, sessionì´ ë§Œë£Œë  ë•Œ ê¹Œì§€ ìœ ì§€
(ì„¸ì…˜ì— ë¡œê·¸ì¸ ì •ë³´ë¥¼ ê¸°ë¡í•´ë‘ 
-> ë¸Œë¼ìš°ì €ê°€ ì¢…ë£Œë˜ê±°ë‚˜ ë¡œê·¸ì•„ì›ƒ ë˜ê¸° ì „ê¹Œì§€ ê³„ì† ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ë¨)

4. application : í•˜ë‚˜ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‹¹ 1ê°œë§Œ ìƒì„±ë˜ëŠ” ê°ì²´
  -> ì„œë²„ ì‹œì‘ ì‹œ ìƒì„±ë˜ë©° ì¢…ë£Œ ì‹œ ê¹Œì§€ ìœ ì§€
  -> ëˆ„êµ¬ë“ ì§€ ì‚¬ìš© ê°€ëŠ¥

ğŸ’¡ ë‚´ì¥ ê°ì²´ì˜ ìš°ì„  ìˆœìœ„
âœ”ï¸ setAttribute("key", value)ë¡œ ë‚´ì¥ ê°ì²´ê°€ ê°’ì„ ì„¸íŒ…í•  ë•Œ key ê°’ì´ ì¤‘ë³µë˜ëŠ” ê²½ìš°
${key}ë¡œ ì‘ì„±í•˜ëŠ” ê²½ìš° ë²”ìœ„ê°€ ì‘ì€ ë‚´ì¥ ê°ì²´ê°€ ë†’ì€ ìš°ì„  ìˆœìœ„ë¥¼ ê°€ì§„ë‹¤
page > request > session > application
```

- 1) index.html
  
  ```html
  <ul>
    <li>
      <a href="scope">2. Servlet/JSP ë‚´ì¥ ê°ì²´ì™€ ë²”ìœ„(scope)</a>
      <!-- ìƒëŒ€ ê²½ë¡œ ë°©ì‹ -->
    </li>
  </ul>
  
  <!-- ê²½ë¡œ ë°©ì‹ì´ë€? -->
  <!-- ì ˆëŒ€ ê²½ë¡œ ë°©ì‹ : í”„ë¡œì íŠ¸ë¶€í„° ìš”ì²­ ì„œë¹„ìŠ¤ ì£¼ì†Œê¹Œì§€ ì‘ì„± -->
  <!--
    ìƒëŒ€ ê²½ë¡œ ë°©ì‹ : í´ë” êµ¬ì¡°ì²˜ëŸ¼ ìƒê°. í˜•ì œ ìš”ì†ŒëŠ” ì´ë¦„ë§Œ ë¶€ë¥´ë©´ ì ‘ê·¼ ê°€ëŠ¥
    í˜„ì¬ í˜ì´ì§€ ì£¼ì†Œ : /JSPProject2/index.html
    ëª©í‘œ í˜ì´ì§€ ì£¼ì†Œ : /JSPProject2/scope
  -->
  ```
  
  ![](/assets/img/Server/5-1.png){:style="width:1000px" }
  
- 2) servlet
  
  ```java
  @WebServlet("/scope")
  public class ScopeServlet extends HttpServlet{
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
    
      RequestDispatcher dispatcher = req.getRequestDispatcher("/WEB-INF/views/el/scope.jsp");
      
      // 1. page : JSPì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥
      // PageContext ì¶”ìƒí´ë˜ìŠ¤ ì´ìš©
      
      // 2. request
      req.setAttribute("message", "request scopeì— ì €ì¥ëœ ë©”ì‹œì§€ ì…ë‹ˆë‹¤");
      
      // 3. session
      // 1) HttpSession ê°ì²´ ì–»ì–´ì˜¤ê¸°
      HttpSession session = req.getSession();
      
      // 2) session scopeë¡œ ê°’ ì„¸íŒ…í•˜ê¸°
      // * page, request, session, applicatonì€ ëª¨ë‘ ì‚¬ìš©ë²•ì´ ë™ì¼
      session.setAttribute("sessionValue", "999");
      
      // 4. application
      // 1) SevletContext ê°ì²´ ì–»ì–´ì˜¤ê¸°
      ServletContext application = req.getServletContext();
      
      // 2) application ë²”ìœ„ë¡œ ê°’ ì„¸íŒ…
      application.setAttribute("appValue", "ì• í”Œë¦¬ì¼€ì´ì…˜ ë²”ìœ„ ê°’");
      
      // ë‚´ì¥ ê°ì²´ ìš°ì„  ìˆœìœ„ í™•ì¸
      req.setAttribute("str", "request scope");
      session.setAttribute("str", "session scope");
      application.setAttribute("str", "application scope");
      
      dispatcher.forward(req, resp);
    }
  }
  ```
    
- 3) JSP
  
  ```jsp
  ğŸ’¡ ìƒë‹¨ì— ì‘ì„±!!
  <%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
  
  ----------------------------- ìƒëµ -----------------------------
  <ul>
    <li>
      <% pageContext.setAttribute("pageMsg", "í˜ì´ì§€ ë²”ìœ„ ì…ë‹ˆë‹¤");
        pageContext.setAttribute("str", "page scope"); %>
      
      page scope pageMsg : ${pageMsg}
    </li>
    
    <li>request scope message : ${message}</li>
    
    <li>session scope sessionValue : ${sessionValue}</li>
    
    <li>application scope appValue : ${appValue}</li>
    
  </ul>
  ```
  
  ![](/assets/img/Server/5-2.png){:style="width:1000px" }
  
  ```jsp
  <hr>
  
  <h1>ìš°ì„  ìˆœìœ„ í™•ì¸ : ${str}</h1>
  
  <h3>pageì˜ str ê°’ : ${pageScope.str}</h3>
  
  <h3>requestì˜ str ê°’ : ${requestScope.str}</h3>
  
  <h3>sessionì˜ str ê°’ : ${sessionScope.str}</h3>
  
  <h3>applicationì˜ str ê°’ : ${applicationScope.str}</h3>
  ```
  
  ![](/assets/img/Server/5-3.png){:style="width:1000px" }
  