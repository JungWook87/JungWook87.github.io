---
title : 06.HTTP 상태코드
date : 2024-01-22 +09:00
categories : [KYH, network]
tags : [
  네트워크,
]
---
<!-- ![](/assets/img/Spring/aaaa.png){:style="border:1px solid #eaeaea; border-radius: 7px; padding: 0px;" } -->
<!-- ![](/assets/img/Performance Test/1-1.png){:style="width:1000px" } -->

### HTTP 상태코드란??
- 클라이언트가 보낸 요청의 처리 상태를 응답에서 알려주는 기능
  - 100대 : 요청이 수신되어 처리중
  - 200대 : 요청 정상 처리
  - 300대 : 요청을 완료하기 위해서 추가적인 행동이 필요
  - 400대 : 클라이언트로 인해 발생한 오류, 잘못된 문법등으로 서버가 요청처리 불가
  - 500데 : 서버에서 발생한 오류, 서버가 정상 요청을 처리 못함

1. 100대
- 거의 사용하지 않는다

### 200대
- 200 OK
- 201 Created
- 202 Accepted
- 204 No Content

1. 200 OK
- 요청에 대한 처리 OK

2. 201 Created
- 요청 성공하여 새로운 리소스가 생성됨
- 예) 신규회원 가입, 주문 입력
- 새롭게 생성된 리소스는 응답에서 Location 헤더의 필드로 전달된다

3. 202 Accepted
- 요청 접수는 되었으나 처리가 완료되지 않음
- 예) 배치 처리, 배차 대기
- 잘 사용하지 않음

4. 204 No Content
- 요청을 성공했는데, 응답으로 보낼 데이터가 없을 때
- 예) 문서 저장하고 난 후 저장이 성공했다는 메시지만 받으면 되기 때문에
- 저장 버튼을 눌러도 화면 변화 없이 계속 문서를 작성하기 위해

### 300대 (Redirection)
- 300 Multiple Choices
- 301 Moved Permanently
- 302 Found
- 303 See Other
- 304 Not Modified
- 307 Temporary Redirect
- 308 Permanent Redirect

1. Redirection 이란??
- 300대 응답에 Location 헤더가 있으면 Location 위치로 자동 이동한다
- 이것을 리다이렉트라고 한다
- 301 Moved Permanently
- 예) 이전에 A로 들어오던거를 서버에서 301 응답하여, Location에 B경로로 보내면
- 클라이언트에서 B로 다시 연결하여 요청한다

2. Redircetion의 이해
- 종류
  - 영구 리다이렉션 : 특정 리소스의 URI가 영구적으로 이동
  - 일시 리다이렉션 : 일시적인 변경
  - 예) 주문 완료 후 주문 내역 화면으로 이동
  - PRG : POST / Redirect / GET
  - 특수 리다이렉션 : 결과 대신 캐시를 사용

3. 영구 리다이렉션
- 301, 308
- 리소스의 URI가 영구적으로 이동
- 원래의 URL를 사용하지 않으므로 검색 엔진 등에서도 변경을 인지
- 301 Moved Permanently
  - 리다이렉트 요처 메서드가 GET으로 변함.
  - 본문이 제거될 수 있다.
- 308 Permanent Redirect
  - 301과 기능 같다
  - 리다이렉트 요청 메서드와 본문 유지(POST로 보냈으면 POST로 리다이렉트)
  - 요청 시 내부 HTML 바디에 있던 정보를 그대로 유지

4. 일시적인 리다이렉션
- 302, 307, 303
- 실무에서 가장 많이 쓰인다
- 리소스의 URI가 일시적으로 변경
- 검색 엔진 등에서 URI를 변경하면 안된다
- 302 Found
  - 리다이렉트 요청 메서드가 GET (대부분..)
  - 본문 내용이 제거될 수 있다
- 307 Temporary Redirect
  - 302와 기능이 같다
  - 리다이렉트시 요청 메서드와 본문을 유지(무조건 유지, 변경X)
- 303 See Other
  - 302와 기능이 같다
  - 리다이렉트 시 요청 메소드가 무조건 GET으로 변경

5. 일시적인 리다이렉트 예시
- PRG : POST / Redirect / GET
  - POST로 주문후에 웹 브라우저를 새로고침 하면??
  - 새로고침은 마지막 요청을 새로 고침하는 것이다.
  - 따라서 새로고침으로 인해 POST로 다시 요청한다
  - 즉 주문이 중복될 수 있다
- PRG로 하면
  - PRG 이후에 리다이렉트를 하면 (302 or 303)
  - URL이 POST에서 GET으로 리다이렉트 되고
  - 클라이언트는 GET으로 다시 서버에 요청
  - 서버는 요청된 주소를 통해 주문 결과 HTML을 반환
  - 클라이언트에서 새로고침을 해도 마지막 요청이 GET으로 주문결과를 조회한 것이기 때문에
  - 중복 주문이 아닌 주문결과를 계속하여 조회한것이 됨

6. 기타 리다이렉션
- 303 See Other
  - 안쓴다.
- 304 Not Modified
  - 캐시를 목적으로 사용
  - 클라이언트에게 리소스가 수정되지 않았다는 것을 알려준다.
  - 따라서 클라이언트는 로컬 PC에 저장된 캐시를 재사용한다.
  - 즉, 캐시로 리다이렉트 한다
  - 304 응답은 응답에 메시지 바디를 포함하면 안된다. 
  - 로컬 캐시를 사용해야 하므로..
  - 조건부 GET, HEAD 요청시 사용한다.

### 400대, 500대 오류
1. 400대 : 클라이언트 오류
- 클라이언트 요청이 잘못된 문법
- 오류의 원인이 클라이언트에게 있음
- 계속 재시도하여도 실패한다
- 400 Bad Request
  - 요청 구문, 메시지 등등 오류
  - 클라이언트가 요청 내용을 다시 수정하여 보내야 한다
- 401 Unauthorized
  - 클라이언트가 해당 리소스에 대해 인증이 필요
  - 401 오류에는 WWW-Authenticate 헤더와 함께 인증 방법을 설명해야 한다
  - 참고로
  - 인증(Authentication) : 신원을 확인, 로그인
  - 인가(Authorization) : 권한 부여(관리자 페이지 처럼, 권한의 등급 범위에 따라 리소스에 접근할 수 있는 권한이 발생, 인증이 있어야 인가가 있을 수 있다)
  - Unauthorized 에러는 대부분 인증에 관한 부분을 말하는 것이다. 단어로 인해 혼동하지 말자
- 403 Forbidden
  - 인증 자격은 있지만, 접근 권한이 불충분한 경우
  - 서버가 요청을 이해는 했지만 승인을 거부한 경우
- 404 Not Found
  - 요청 리소스가 서버에 없다
  - 또는 클라이언트가 권한이 부족한 리소스에 접근을 하려고 하는데 해당 리소스를 숨기고 싶을 때

2. 500대 : 서버 오류
- 서버 문제로 오류 발생
- 서버에 문제가 있었기 때문에 재시도를 하면 성공할 수도 있다
- 500 Internal Server Error
  - 서버 내부 문제로 오류 발생
  - 애매하면 500 오류로 처리하면 된다
- 503 Service Unavailable
  - 서버가 일시적인 과부하 또는 예정된 작업으로 잠시 요청을 처리할 수 없다
  - Retry-After 헤더 필드로 얼마뒤에 복구되는지 메시지를 보낼 수도 있다

##### 출처
- 인프런의 김영한님의 강의를 듣고 정리한 것입니다.
