---
title : 06. JSTL
date : 2023-03-22 +09:00
categories : [KH í•™ì› ê³µë¶€, Server]
tags : [
  Server,
]
---
<!-- ![](/assets/img/Server/aaaa.png){:style="border:1px solid #eaeaea; border-radius: 7px; padding: 0px;" } -->
<!-- ![](/assets/img/Server/6-1.png){:style="width:1000px" } -->

### JSTL(Jsp Standard Tag Library)

```html
ğŸ”¸JSPì—ì„œ ìì£¼ ì‚¬ìš©ë˜ê±°ë‚˜ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” Java ì½”ë“œë¥¼ í‘œê¸°ë²•ì„ ê°„ë‹¨íˆ íƒœê·¸í™” í•˜ì—¬ í‘œì¤€ìœ¼ë¡œ ì œê³µí•˜ëŠ” ê²ƒ 
(if, for, ë°°ì—´/ì»¬ë ‰ì…˜ ê¸¸ì´, ë¬¸ìì—´ ì¹˜í™˜, ìˆ«ì ë°ì´í„° í˜•ì‹ ë³€ê²½, ë°ì´í„° íŒŒì‹±, scope ë³€ìˆ˜ ì„ ì–¸ ë“±)
```

- JSTL ë¼ì´ë¸ŒëŸ¬ë¦¬ ë“±ë¡ ë°©ë²•
  - ì ‘ì†    
  <a href="https://tomcat.apache.org/download-taglibs.cgi" target="_blank">https://tomcat.apache.org/download-taglibs.cgi</a>

  - Jar Files â†’ Impl, Spec, EL ë‹¤ìš´ë¡œë“œ

  - webapp/WEB-INF/lib í´ë”ì— ì¶”ê°€í•˜ê¸°

```jsp
ğŸ”¸JSTL ì‚¬ìš©ì„ ìœ„í•œ ì„ ì–¸ ë°©ë²•
- JSP íŒŒì¼ ìµœìƒë‹¨ì— ì¶”ê°€í•˜ê³ ì í•˜ëŠ” JSTL taglibë¥¼ ì¶”ê°€
ex) <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
```

- 1) index.html
  
  ```html
  <ul>
    <li>
      <a href="jstl">3. JSTL</a><!-- ìƒëŒ€ ê²½ë¡œ ì£¼ì†Œ -->
    </li>
  </ul>
  <!--
    í˜„ì¬ í˜ì´ì§€ ì£¼ì†Œ : /JSPProject2/index.html
    ëª©í‘œ í˜ì´ì§€ ì£¼ì†Œ : /JSPProject2/student/selectAll
  -->
  ```
  
  ![](/assets/img/Server/6-1.png){:style="width:1000px" }
  
- 2) servlet
  
  ```java
  @WebServlet("/jstl")
  public class JSTLServlet extends HttpServlet {
  
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
  
      RequestDispatcher dispatcher = req.getRequestDispatcher("/WEB-INF/views/jstl.jsp");
    
      dispatcher.forward(req, resp);
    }
  }
  ```
    
- 3) JSP
  
  ```jsp
  ğŸ’¡ ìƒë‹¨ì— ì‘ì„±
  <%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
  <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
  <!--
    prefix : ì ‘ë‘ì‚¬
    uri(Uniform Resource Identivier) : ìì›ì„ êµ¬ë¶„í•˜ëŠ” ì‹ë³„ì(ì£¼ì†Œ í˜•íƒœ)
  -->
  
  ----------------------------- ìƒëµ -----------------------------
  ```
  
  ```jsp
  âœ”ï¸ 1. ë³€ìˆ˜ ì„ ì–¸ ( c:set íƒœê·¸ )
    - ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³  ê°’ì„ ì´ˆê¸°í™”í•˜ëŠ” íƒœê·¸ (ì›í•˜ëŠ” scopeì˜ ë‚´ì¥ ê°ì²´ì— ê°’ì„ ì„¸íŒ…)
    - c:set ì†ì„±
    1) var : ë³€ìˆ˜ëª…(setAttributeì˜ key ê°’)
    2) value : ëŒ€ì…ë  ê°’
    3) scope : ë‚´ì¥ ê°ì²´ ë²”ìœ„ (ê¸°ë³¸ê°’ : page)
  
  <!-- scriptlet ì‘ì„±ë²• -->
  <% pageContext.setAttribute("num1", 10); %>
  
  <!-- JSTL ì‘ì„±ë²• -->
  <c:set var="num2" value="20" />
  
  ${ num1 } / ${ num2 }
  
  <!-- request scopeì— num2 ì„¸íŒ… -->
  <c:set var="num2" value="300" scope="request" />
  
  <h4>${num2}</h4> <!-- 20, ìš°ì„ ìˆœìœ„ -->
  <h4>${requestScope.num2}</h4> <!-- 300 -->
  
  <c:set var"temp" value="ì„ì‹œ ê°’" scope="session" />
  <h4>temp : ${temp}</h4>
  ```
    
  ![](/assets/img/Server/6-2.png){:style="width:1000px" }

  ```jsp
  âœ”ï¸ 2. ë³€ìˆ˜ ì‚­ì œ ( c:remove )
    - c:set / setAttribute()ë¡œ ì¶”ê°€ëœ ê°’ ì œê±°
  
    - c:remove ì†ì„±
    1) var : ì‚­ì œí•  ë³€ìˆ˜ëª…(key)
    2) scope : ì‚­ì œí•  ë‚´ì¥ ê°ì²´ ë²”ìœ„(ê¸°ë³¸ê°’ : ëª¨ë“  ë²”ìœ„)
  
  <c:remove var="temp">
  temp ì‚­ì œ í™•ì¸ : ${temp} <br>
  
  <c:set var="test" value="page" scope="page" />
  <c:set var="test" value="request" scope="request" />
  <c:set var="test" value="session" scope="session" />
  <c:set var="test" value="application" scope="application" />
  
  <!-- ëª¨ë“  ë²”ìœ„ ì‚­ì œ -->
  <%-- <c:remove var="tset" /> --%>
  
  <c:remove var="test" scope="request" />
  
  ${pageScope.test} / ${requestScope.test} / ${sessionScope.test} / ${applicationScope.test}
  ```
   
  ![](/assets/img/Server/6-3.png){:style="width:1000px" }
    
  ```jsp
  âœ”ï¸ 3. ì¡°ê±´ë¬¸ - if ( c:if íƒœê·¸ )
    - ë‹¨ë… ifë¬¸ (else ì—†ìŒ)
  
    * ì£¼ì˜ì‚¬í•­ *
    1) test ì†ì„± ê°’ ì‘ì„±ì€ ë¬´ì¡°ê±´ EL êµ¬ë¬¸ì´ì–´ì•¼ë§Œ í•œë‹¤
    2) test ì†ì„±ê°’ "" ì•ˆì—ëŠ” ê³µë°±ì´ ì¡´ì¬í•´ì„œëŠ” ì•ˆëœë‹¤
  
  <%-- scriptlet ì‘ì„±ë²• --%>
  <% if(1 == 1){ %>
    ì¶œë ¥ë©ë‹ˆë‹¤.
  <% } %>
  
  <%-- JSTL ì‘ì„±ë²• --%>
  <c:if test="${1 == 1}">
    JSTL ì‘ì„±ë²•
  </c:if>
  ```
  
  ![](/assets/img/Server/6-4.png){:style="width:1000px" }
  
  ```jsp
  <%-- session ë²”ìœ„ì— ì„¸íŒ…ëœ testì˜ ê°’ì´ "session"ì¸ ê²½ìš° --%>
  <%--
    - ë¬¸ìì—´ ë¹„êµì‹œ (==) ë¹„êµì—°ì‚°ì ì‚¬ìš© ê°€ëŠ¥
    - ë¬¸ìì—´ì„ì„ í‘œê¸°í•˜ëŠ” ë¦¬í„°ëŸ´ == ''(í™‘ë”°ì˜´í‘œ) / "" (ìŒë”°ì˜´í‘œ)
  --%>
  
  <c:if test='${ sessionScope.test == "session"}'>
    <h4>sessionScope.test == 'session'</h4>
  </c:if>
  
  <c:if test='${ sessionScope.test != "session"}'>
    <h4>sessionScope.test != 'session'</h4>
  </c:if>
  ```
    
  ![](/assets/img/Server/6-5.png){:style="width:1000px" }
   
  ```jsp
  âœ”ï¸ 4. ì¡°ê±´ë¬¸ - if ~ else if ~ else ( c:choose, c:when, c:otherwise )
  - c:choose : when, otherwiseë¥¼ ê°ì‹¸ëŠ” íƒœê·¸
              (í˜„ì¬ íƒœê·¸ ë‚´ë¶€ì— if ~ else if ~ elseë¥¼ ì‘ì„±í•˜ê² ë‹¤)
  - c:when : if/else ifë¥¼ ë‚˜íƒ€ë‚´ëŠ” íƒœê·¸
            ì†ì„±ì€ test ë°–ì— ì—†ìŒ(ì¡°ê±´ ì‘ì„± ì†ì„±)
  - c:otherwise : elseë¥¼ ë‚˜íƒ€ë‚´ëŠ” íƒœê·¸
                  ì•„ë¬´ëŸ° ì†ì„±ë„ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
  
  <c:set var="temp2" value="100" />
  
  <c:choose>
  
    <c:when test="${temp2 > 100}">
      100ë³´ë‹¤ í¬ë‹¤
    </c:when>
    
    <c:when test="${temp2 < 100}">
      100ë³´ë‹¤ ì‘ë‹¤
    </c:when>
  
    <c:otherwise>
      100ê³¼ ê°™ë‹¤
    </c:otherwise>
  
  </c:choose>
  ```
   
  ![](/assets/img/Server/6-6.png){:style="width:1000px" }
   
  ```jsp
  âœ”ï¸ 5. ë°˜ë³µë¬¸ ( c:forEach íƒœê·¸ )
  - ì¼ë°˜ for + ì¶”ê°€ ê¸°ëŠ¥
  - ì†ì„±
    1) var	: í˜„ì¬ ë°˜ë³µ íšŸìˆ˜ì— í•´ë‹¹í•˜ëŠ” ë³€ìˆ˜ (int i)
    2) begin  : ë°˜ë³µ ì‹œ var ì‹œì‘ ê°’
    3) end	: ë°˜ë³µì´ ì¢…ë£Œë  var ê°’
    4) step	: ë°˜ë³µ ì‹œ ë§ˆë‹¤ varì˜ ì¦ê°€ ê°’ (ê¸°ë³¸ê°’ 1)
    5) items	: ë°˜ë³µ ì ‘ê·¼í•œ ê°ì²´(ë°°ì—´, ì»¬ë ‰ì…˜ ê°ì²´)
    
    6) varStatus : í˜„ì¬ ë°˜ë³µ ìƒíƒœì™€ ê´€ë ¨ëœ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ë³€ìˆ˜ ì„ ì–¸	
    
      varStatus="ë³€ìˆ˜ëª…"
      -> c:forEach êµ¬ë¬¸ ë‚´ì—ì„œ "ë³€ìˆ˜ëª…"ì„ í†µí•´ ì›í•˜ëŠ” ê°’ì„ ì–»ì„ ìˆ˜ ìˆë‹¤
      
      * varStatusì—ì„œ ì œê³µë˜ëŠ” ê°’
      - current : í˜„ì¬ ë°˜ë³µ íšŸìˆ˜(í˜„ì¬ var ê°’)
                  ë˜ëŠ” í˜„ì¬ ë°˜ë³µ ì ‘ê·¼ ì¤‘ì¸ ê°ì²´(ì»¬ë ‰ì…˜/ë°°ì—´ ìš”ì†Œ)
      - index : í˜„ì¬ ì¸ë±ìŠ¤ ê°’ ë°˜í™˜ (0ë¶€í„° ì‹œì‘)
      - count : í˜„ì¬ ëª‡ ë°”í€´ì¸ì§€ ë°˜ë³µ íšŸìˆ˜ ë°˜í™˜ (1ë¶€í„° ì‹œì‘)
      - first : ì²« ë²ˆì§¸ ë°˜ë³µì´ë©´ true, ì•„ë‹ˆë©´ false
      - last : ë§ˆì§€ë§‰ ë°˜ë³µì´ë©´ true, ì•„ë‹ˆë©´ false
  ```
  
  ```jsp
  âœ”ï¸ ì¼ë°˜ forë¬¸ í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©
  <c:forEach var="i" begin="1" end="6" step="1">
    <h${i}> í˜„ì¬ i ê°’ : ${i} <h${i}>
  </c:forEach>
  ```
  
  ![](/assets/img/Server/6-7.png){:style="width:1000px" }
   
  ```jsp
  âœ”ï¸ ì¼ë°˜ forë¬¸ + varStatus
  <table border="1">
    <c:forEach var="n" begin="1" end="10" varStatus="vs">
      <c:choose>
        <%-- choose ë‚´ë¶€ì—ëŠ” ë¬´ì¡°ê±´ JSP ì£¼ì„ë§Œ ì‘ì„± --%>
        <%-- ì²«ë²ˆì§¸ ë°˜ë³µì¼ ê²½ìš° --%>
        <c:when test="${vs.first}">
          <tr>
            <th class="first"> ${n} </th>
            <th class="first"> ${n}ë²ˆ ê²Œì‹œê¸€ ì…ë‹ˆë‹¤ </th>
          </tr>
        </c:when>
      
        <c:when test="${vs.last}">
          <tr>
            <th class="last"> ${n} </th>
            <th class="last"> ${n}ë²ˆ ê²Œì‹œê¸€ ì…ë‹ˆë‹¤ </th>
          </tr>
        </c:when>
  
        <c:otherwise>
          <tr>
            <th> ${n} </th>
            <th> ${n}ë²ˆ ê²Œì‹œê¸€ ì…ë‹ˆë‹¤ </th>
          </tr>
        <c:otherwise>
      </c:choose>
    </forEach>
  </table>
  ```
  
  ![](/assets/img/Server/6-8.png){:style="width:1000px" }
  
  ```html
  âœ”ï¸ í–¥ìƒëœ forë¬¸ í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©
  <form action="forEach" method="get">
    <input type="checkbox" name="lang" value="java"> java <br>
    <input type="checkbox" name="lang" value="sql"> sql <br>
    <input type="checkbox" name="lang" value="jdbc"> jdbc <br>
    <input type="checkbox" name="lang" value="html"> html <br>
    <input type="checkbox" name="lang" value="css"> css <br>
    <input type="checkbox" name="lang" value="javascript"> javascript <br>
    <input type="checkbox" name="lang" value="jQuery"> jQuery <br>
    <input type="checkbox" name="lang" value="servlet"> servlet <br>
    <input type="checkbox" name="lang" value="jsp"> jsp <br>
  
    <button>ì œì¶œ</button>
  </form>
  ```
  
  ![](/assets/img/Server/6-9.png){:style="width:1000px" }
  
  ```java
  [servlet]
  
  @WebServlet("/forEach")
  public class ForEachServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
  
      List<Person> pList = new ArrayList<>();
    
      pList.add(new Person("í™ê¸¸ë™", 25, "ì„œìš¸ì‹œ ì¤‘êµ¬"));
      pList.add(new Person("ê³ ê¸¸ë™", 26, "ì„œìš¸ì‹œ ê°•ë¶êµ¬"));
      pList.add(new Person("ë°•ê¸¸ë™", 45, "ì„œìš¸ì‹œ ì„±ë™êµ¬"));
      pList.add(new Person("ê°•ê¸¸ë™", 17, "ì„œìš¸ì‹œ ì„œëŒ€ë¬¸êµ¬"));
      pList.add(new Person("ê¹€ê¸¸ë™", 35, "ì„œìš¸ì‹œ ì„±ë¶êµ¬"));
    
      req.setAttribute("pList", pList);
    
      // ìš”ì²­ìœ„ì„
      RequestDispatcher dispatcher = req.getRequestDispatcher("WEB-INF/views/forEach.jsp");
    
      dispatcher.forward(req, resp);
    }
  }
  ```
  
  ```jsp
  [JSP]
  
  param.lang : íŒŒë¼ë¯¸í„° ì¤‘ langì˜ ê°’ì„ ì–»ì–´ì™€ ì¶œë ¥ ë‹¨, lang ì´ë¦„ì˜ íŒŒë¼ë¯¸í„°ê°€ ì—¬ëŸ¬ê°œë©´ ì²«ë²ˆì§¸ë§Œ ì–»ì–´ì˜¨ë‹¤
  
  paramValues.lang : langì´ë¼ëŠ” ì´ë¦„ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ëª¨ë‘ ì–»ì–´ì™€ ë°°ì—´ë¡œ ë°˜í™˜
  
  ${param.lang} / ${paramValues.lang[0]} / ${paramValues.lang[1]}
  
  <c:choose>
    <c:when test="${empty paramValues.lang}">
      <h1 style="color:orangered"> ì²´í¬ëœ ê°’ì´ ì—†ìŠµë‹ˆë‹¤ </h1>
    </c:when>
  
    <c:otherwise>
      <ul>
        <c:forEach var="chk" itesm="${paramValue.lang}" varStatus="vs">
          <li>
            index : ${vs.index} <br>
            count : ${vs.count} <br>
            current : ${vs.current} <br>
            first : ${vs.first} <br>
            last : ${vs.last}
          </li>
        </c:forEach>
      </ul>
    </c:otherwise>
  </c:choose>
  ```
  
  ![](/assets/img/Server/6-10.png){:style="width:1000px" }
   
  ```jsp
  âœ”ï¸ ê°ì²´ ë°°ì—´ / ì»¬ë ‰ì…˜ ë°˜ë³µ ì ‘ê·¼í•˜ê¸°
  
  [JSP]
  
  <table>
    <c:forEach var="person" items="${requestScope.pList}">
      <tr>
        <th>${person.name}</th>
        <td>#{person.age}</td>
        <td>#{person.address}</td>
      </tr>
    </c:forEach>
  </table>
  ```
  
  ![](/assets/img/Server/6-11.png){:style="width:1000px" }
  